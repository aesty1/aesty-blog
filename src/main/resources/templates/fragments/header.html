<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º CSS -->
    <link th:href="@{/css/header.css}" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
<!-- templates/fragments/header-fragment.html -->
<header class="header" xmlns:th="http://www.thymeleaf.org">
    <div class="header-content">
        <!-- Logo Section -->
        <div class="logo-section">
            <a th:href="@{/}" class="logo">
                <span class="logo-icon">‚úçÔ∏è</span>
                <span>aesty-blog</span>
            </a>

            <!-- Create Post Button -->
            <a th:if="${author != null}" th:href="@{/posts/new}"
               th:class="${author == null} ? 'btn btn-create disabled' : 'btn btn-create'"
               th:onclick="${author == null} ? 'return false;' : null"
               th:title="${author == null} ? '–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É' : null">
                <span>üìù</span>
                <span>–°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</span>
            </a>
        </div>

        <!-- Navigation -->
        <nav class="nav">
            <!-- Authenticated User Section -->
            <div class="auth-buttons" th:if="${author != null}">
                <!-- Account Button -->
                <a th:href="@{/me}" class="btn btn-account">
                    <span>üë§</span>
                    <span th:text="${author.nickname}">–ê–∫–∫–∞—É–Ω—Ç</span>
                </a>

                <!-- Logout Button -->
                <a th:href="@{/logout}" class="btn btn-logout">
                    <span>üö™</span>
                    <span>–í—ã–π—Ç–∏</span>
                </a>
            </div>

            <!-- Guest Section -->
            <div class="auth-buttons" th:unless="${author != null}">
                <!-- Login Button -->
                <a th:href="@{/login}" class="btn btn-login">
                    <span>üîë</span>
                    <span>–í–æ–π—Ç–∏</span>
                </a>

                <!-- Register Button -->
                <a th:href="@{/register}" class="btn btn-register">
                    <span>üìù</span>
                    <span>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                </a>
            </div>
        </nav>
    </div>
</header>

<style>
    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è disabled —Å–æ—Å—Ç–æ—è–Ω–∏—è */
    .btn.disabled {
        opacity: 0.6;
        cursor: not-allowed;
        pointer-events: none;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
    .btn {
        position: relative;
        overflow: hidden;
    }

    .btn::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transition: left 0.5s ease;
    }

    .btn:hover:not(.disabled)::before {
        left: 100%;
    }

    /* Tooltip –¥–ª—è disabled –∫–Ω–æ–ø–∫–∏ */
    [title] {
        position: relative;
    }

    [title]:hover::after {
        content: attr(title);
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        background: #1e293b;
        color: white;
        padding: 0.5rem 0.75rem;
        border-radius: 6px;
        font-size: 0.8rem;
        white-space: nowrap;
        z-index: 1000;
        margin-bottom: 0.5rem;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    [title]:hover::before {
        content: '';
        position: absolute;
        bottom: 100%;
        left: 50%;
        transform: translateX(-50%);
        border: 5px solid transparent;
        border-top-color: #1e293b;
        z-index: 1000;
        margin-bottom: -0.5rem;
    }
</style>
</body>
</html>